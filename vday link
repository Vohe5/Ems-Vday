<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Emily üíñ My Everything</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<style>
html,body{
  margin:0;
  padding:0;
  overflow:hidden;
  font-family:Georgia, serif;
}

/* PASSWORD SCREEN */
#lock{
  position:fixed;
  inset:0;
  background:linear-gradient(135deg,#ff8fd2,#d4af37,#9caf88);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:10;
}

.lock-box{
  background:rgba(255,255,255,.15);
  padding:3rem;
  border-radius:30px;
  text-align:center;
  backdrop-filter:blur(20px);
  box-shadow:0 30px 80px rgba(0,0,0,.4);
}

.lock-box h1{color:white;margin-bottom:1rem;}
.lock-box input{
  padding:1rem;
  border-radius:12px;
  border:none;
  font-size:1.1rem;
  text-align:center;
}
.lock-box button{
  margin-top:1rem;
  padding:.8rem 2rem;
  border:none;
  border-radius:12px;
  font-size:1.1rem;
  cursor:pointer;
  background:#ff69b4;
  color:white;
}

.error{color:#fff;margin-top:.8rem;display:none}

/* BACKGROUND */
body::before{
  content:"";
  position:fixed;
  width:200%;
  height:200%;
  top:-50%;
  left:-50%;
  background:
    radial-gradient(circle at 30% 30%, #ff8fd2, transparent 60%),
    radial-gradient(circle at 70% 40%, #d4af37, transparent 65%),
    radial-gradient(circle at 40% 70%, #9caf88, transparent 60%);
  filter:blur(100px);
  animation:swirl 30s linear infinite;
  z-index:-2;
}

@keyframes swirl{to{transform:rotate(360deg);}}

/* CONTENT */
canvas{position:fixed;top:0;left:0;}
.content{
  position:relative;
  z-index:2;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  color:white;
}

.card{
  background:rgba(255,192,203,.18);
  backdrop-filter:blur(20px);
  padding:3.5rem;
  border-radius:35px;
  max-width:780px;
  border:2px solid rgba(212,175,55,.6);
}

.name{
  font-size:4.5rem;
  font-weight:bold;
  background:linear-gradient(90deg,#fff3b0,#d4af37,#fff3b0);
  background-size:200%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:gold 4s linear infinite;
  cursor:pointer;
}

@keyframes gold{to{background-position:200% center;}}

#days{
  font-size:1.4rem;
  margin-top:1rem;
  color:#e8ffd8;
}

#letter{
  font-size:1.3rem;
  line-height:1.9;
  margin-top:1.5rem;
  min-height:130px;
}

.hint{opacity:.8;font-size:.9rem;margin-top:1rem;}
</style>
</head>

<body>

<!-- üîê LOCK SCREEN -->
<div id="lock">
  <div class="lock-box">
    <h1>For Emily üíñ</h1>
    <input type="password" id="pass" placeholder="Password">
    <br>
    <button onclick="unlock()">Enter</button>
    <div class="error" id="error">Wrong password üíî</div>
  </div>
</div>

<audio autoplay loop>
<source src="https://cdn.pixabay.com/audio/2022/10/03/audio_4aef35c2b6.mp3">
</audio>

<div class="content">
<div class="card">
<h1>For The Love Of My Life</h1>
<div class="name" id="name">Emily</div>

<div id="days"></div>
<div id="letter"></div>

<div class="hint">(Click for hearts ¬∑ Click Emily üí´)</div>
</div>
</div>

<script>
/* üîê PASSWORD */
function unlock(){
  if(document.getElementById("pass").value==="ILOVEYOU"){
    document.getElementById("lock").style.display="none";
  } else {
    document.getElementById("error").style.display="block";
  }
}

/* üìÖ DAYS LOVING EMILY ‚Äî 9 NOVEMBER 2022 */
const start = new Date("2022-11-09");
const today = new Date();
const diff = Math.floor((today-start)/(1000*60*60*24));
document.getElementById("days").innerHTML =
`Days loving Emily: <strong>${diff}</strong> üíñ`;

/* üíå TYPEWRITER */
const text=`Emily,

Since the day you came into my life,
everything has felt brighter and warmer.

Every single day with you is my favourite.
I love you endlessly.`;

let i=0;
const letter=document.getElementById("letter");
(function type(){
  if(i<text.length){
    letter.innerHTML+=text.charAt(i++);
    setTimeout(type,40);
  }
})();

/* üí´ EASTER EGG */
document.getElementById("name").onclick=()=>{
  alert("You are my forever üíñ");
};

/* ‚ù§Ô∏è THREE HEARTS */
const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(75,innerWidth/innerHeight,0.1,1000);
camera.position.z=12;

const renderer=new THREE.WebGLRenderer({alpha:true,antialias:true});
renderer.setSize(innerWidth,innerHeight);
document.body.appendChild(renderer.domElement);

scene.add(new THREE.AmbientLight(0xffffff,.9));
const pink=new THREE.PointLight(0xff69b4,2);
pink.position.set(5,5,5);
scene.add(pink);

const hearts=[];
function heart(){
  const s=new THREE.Shape();
  s.moveTo(0,0);
  s.bezierCurveTo(0,0,-1,-1.5,-2,0);
  s.bezierCurveTo(-3.5,2.5,0,4.5,0,6);
  s.bezierCurveTo(0,4.5,3.5,2.5,2,0);
  s.bezierCurveTo(1,-1.5,0,0,0,0);
  const g=new THREE.ExtrudeGeometry(s,{depth:.6,bevelEnabled:true});
  const m=new THREE.MeshStandardMaterial({
    color:0xff1493,
    metalness:.8,
    roughness:.2,
    emissive:0xff69b4,
    emissiveIntensity:.6
  });
  const h=new THREE.Mesh(g,m);
  h.scale.set(.3,.3,.3);
  h.position.set((Math.random()-.5)*20,(Math.random()-.5)*20,(Math.random()-.5)*20);
  h.userData.o=Math.random()*Math.PI*2;
  scene.add(h);
  hearts.push(h);
}
for(let i=0;i<30;i++)heart();

onclick=e=>{
  if(navigator.vibrate) navigator.vibrate([40,80,40]);
  for(let i=0;i<4;i++)heart();
};

function animate(){
  requestAnimationFrame(animate);
  const t=Date.now()*0.003;
  hearts.forEach(h=>{
    const p=1+Math.sin(t+h.userData.o)*.08;
    h.scale.set(.3*p,.3*p,.3*p);
    h.rotation.y+=.003;
    h.rotation.x+=.002;
  });
  renderer.render(scene,camera);
}
animate();
</script>

</body>
</html>
